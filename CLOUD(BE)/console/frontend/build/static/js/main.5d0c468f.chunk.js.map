{"version":3,"sources":["lib/api.ts","hooks/user/useAuth.ts","hooks/common/useRouter.ts","components/main/Auth.tsx","pages/AuthPage.tsx","components/main/Main.tsx","hooks/block/useBlock.ts","pages/MainPage.tsx","App.tsx","index.tsx"],"names":["axios","defaults","withCredentials","api","create","baseURL","login","data","post","useAuth","router","params","useParams","location","useLocation","history","useHistory","match","useRouteMatch","useMemo","push","replace","pathname","query","queryString","parse","search","useRouter","useState","id","password","input","setInput","error","setError","handdleLogin","a","async","localStorage","setItem","onChange","e","target","name","value","handleLogout","removeItem","AuthBlock","styled","div","Auth","className","src","Input","placeholder","type","Button","secondary","onClick","AuthPage","MainBlock","Main","blocks","setBlocks","useEffect","getBlockList","get","rows","useBlock","getItem","to","blockList","map","block","header","event_id","generated_time","version","Table","Row","key","Cell","moment","parseInt","format","JSON","stringify","fluid","size","icon","celled","selectable","Header","HeaderCell","Body","Pagination","boundaryRange","defaultActivePage","ellipsisItem","firstItem","lastItem","siblingRange","totalPages","MainPage","App","exact","component","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d0c468f.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.withCredentials = true;\n\nconst api = axios.create({\n    baseURL: `/v1`,\n});\n\nexport const getBlocks = () => api.get(`/block`)\n\nexport const login = (data) => api.post(`/auth/login`, data);","import react, {useCallback, useEffect, useState} from 'react';\nimport { login } from '../../lib/api';\nimport { useRouter } from '../common/useRouter';\n\nexport default function useAuth(){\n    const router = useRouter();\n    const [input, setInput] = useState({\n        id: '',\n        password: ''\n    });\n    const [error, setError] = useState('');\n\n    const onChange = (e) => {\n        const {name, value} = e.target;\n\n        setInput({\n            ...input,\n            [name]: value\n        })\n    }\n\n    const handdleLogin = async(input) => {\n        const {data} = await login(input);\n        if(data === true){\n            localStorage.setItem('login', 'true');\n            router.history.push('/')\n        }\n        else{\n            setError('로그인 정보를 다시 확인해주세요');\n        }\n    }\n\n    const handleLogout = () => {\n        localStorage.removeItem('login');\n        router.history.push('/login');\n    }\n\n\n    return {\n        handdleLogin, onChange, input, error, handleLogout\n    }\n}","import React, {useMemo} from 'react'\nimport { useParams, useLocation, useHistory, useRouteMatch } from 'react-router-dom';\nimport queryString from 'query-string';\nexport function useRouter() {\n    const params = useParams();\n    const location = useLocation();\n    const history = useHistory();\n    const match = useRouteMatch();\n  \n    // Return our custom router object\n    // Memoize so that a new object is only returned if something changes\n    return useMemo(() => {\n      return {\n        // For convenience add push(), replace(), pathname at top level\n        push: history.push,\n        replace: history.replace,\n        pathname: location.pathname,\n        // Merge params and parsed query string into single \"query\" object\n        // so that they can be used interchangeably.\n        // Example: /:topic?sort=popular -> { topic: \"react\", sort: \"popular\" }\n        query: {\n          ...queryString.parse(location.search), // Convert string to object\n          ...params\n        },\n        // Include match, location, history objects so we have\n        // access to extra React Router functionality if needed.\n        match,\n        location,\n        history\n      };\n    }, [params, match, location, history]);\n  }","import React, { useState, } from 'react';\nimport { Button, Input } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport {useHistory} from 'react-router-dom';\nimport useAuth from '../../hooks/user/useAuth';\nconst AuthBlock = styled.div`\n    height: 100vh;\n    \n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    img{\n        width: 100%;\n        margin-bottom: 1.5rem;\n    }\n    .container{\n        margin-top: 1rem;\n        box-shadow : 0px 0px 8px rgba(0, 0, 0, 0.125);\n        //border: 3px solid rgba(0, 0, 0, 0.01);\n        padding: 2rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 520px;\n        .input{\n            width: 100%;\n            margin-bottom: 1rem;\n        }\n        .button{\n            width: 100%;\n        }\n    }\n    .error-message{\n        color: red;\n        margin-bottom: 1rem;\n    }\n`;\n\nconst Auth = () => {\n    const {onChange, handdleLogin, input, error} = useAuth();\n    return (\n        <AuthBlock>\n            \n            <div className='container'>\n            <img src='/logo.png'></img>\n                <Input placeholder='아이디를 입력해주세요' name='id' onChange={onChange} ></Input>\n                <Input placeholder='비밀번호를 입력해주세요' type='password' name='password' onChange={onChange} ></Input>\n                <div className='error-message'>{error}</div>\n                <Button secondary onClick={()=>handdleLogin(input)}>로그인</Button>\n            </div>\n        </AuthBlock>\n    )\n}\n\nexport default Auth;","import React, { useState } from 'react';\nimport Auth from '../components/main/Auth';\n\nfunction AuthPage() {\n    return (\n        <div>\n            <Auth></Auth>\n        </div>\n    )\n}\n\nexport default AuthPage;\n","import React, {useState} from 'react';\nimport styled from 'styled-components';\n\nimport {\n    Button,\n    Card,\n    Header,\n    Input,\n    Pagination,\n    Table,\n  } from 'semantic-ui-react'\nimport useBlock from '../../hooks/block/useBlock';\nimport moment  from 'moment';\nimport { json } from 'express';\nimport {Redirect} from 'react-router-dom'\nimport useAuth from '../../hooks/user/useAuth';\n\nconst MainBlock = styled.div`\n    background-color: rgba(0, 0, 0, 0.03);\n    \n    header{\n        padding: 2rem;\n        background-color: white;\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        img{\n            width: 40rem;\n        }\n    }\n    .card-group{\n        background-color: white;\n        display: flex;\n        flex-direction: row;\n        margin-top: 1.5rem;\n        padding: 2rem;\n        margin-bottom: 1.5rem;\n        .card{\n            margin-right: 1.5rem;\n            padding: 2.5rem;\n            padding-bottom: 2.2rem;\n            box-shadow : 0px 0px 8px rgba(0, 0, 0, 0.125);\n            font-size: 3rem;\n            font-weight: bold;\n            min-width: 15rem;\n            span{\n                font-weight: lighter;\n                font-size: 1.5rem;\n            }\n        }\n        \n    }\n    .list{\n        padding: 2rem;\n        background-color: white;\n    }\n    footer{\n        background-color: white;\n        display: flex;\n        justify-content: center;\n    }\n    \n`;\nconst Main = () => {\n\n\n\n    const {blocks} = useBlock();\n    const {handleLogout} = useAuth();\n\n    if(localStorage.getItem('login') !== 'true'){\n        return <Redirect to='/login'/>\n    }\n\n    const blockList = blocks.map((block: any) => {\n        const {id, header, data} = block;\n        const {event_id, generated_time, version} = header;\n        \n        \n        return (\n            <Table.Row key={id}>\n                <Table.Cell>{id}</Table.Cell>\n                <Table.Cell>{moment(parseInt(generated_time)).format('YYYY-MM-DD hh:mm:ss')}</Table.Cell>\n                <Table.Cell>{event_id}</Table.Cell>\n                <Table.Cell>{JSON.stringify(data)}</Table.Cell>\n            </Table.Row>\n        )\n    });\n\n    return (\n        <MainBlock>\n            <div>\n                <header>\n                    <div>\n\n                    </div>\n                    <img src='/logo.png'/>\n                    <Button secondary onClick={()=>handleLogout()}>\n                        로그아웃\n                    </Button>\n                </header>\n                <div className='card-group'>\n                    <div className='card'>\n                        5 <span>Node</span>\n                    </div>\n                    <div className='card'>\n                        2 <span>Blocks</span>\n                    </div>\n                    <div className='card'>\n                        1 <span>Orgs</span>\n                    </div>\n                    <div className='card'>\n                        3 <span>Cluster</span>\n                    </div>\n                </div>\n                <div className='list'>\n                    <Input fluid size=\"big\" icon='search' placeholder='Search...' />\n                    <Table celled  selectable>\n                        <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell>id</Table.HeaderCell>\n                            <Table.HeaderCell>generated_time</Table.HeaderCell>\n                            <Table.HeaderCell>event_id</Table.HeaderCell>\n                            <Table.HeaderCell>data</Table.HeaderCell>\n                        </Table.Row>\n                        </Table.Header>\n\n                        <Table.Body>\n                            {blockList}\n                        </Table.Body>\n                    </Table>\n                </div>\n                <footer>\n                    <Pagination\n                        boundaryRange={0}\n                        defaultActivePage={1}\n                        ellipsisItem={null}\n                        firstItem={null}\n                        lastItem={null}\n                        siblingRange={1}\n                        totalPages={10}\n                    />\n                </footer>\n            </div>      \n        </MainBlock>\n    )\n}\n\nexport default Main;","import react, {useCallback, useEffect, useState} from 'react';\nimport { getBlocks } from '../../lib/api';\n\nexport default function useBlock(){\n    const [blocks, setBlocks] = useState([]);\n\n    useEffect(()=>{\n        getBlockList();\n    }, []);\n\n    const getBlockList = async() => {\n        const {data} = await getBlocks();\n\n        setBlocks(data.blocks.rows);\n    }\n    return {\n        blocks\n    }\n}","import React, { useState } from 'react';\n\nimport Main from '../components/main/Main';\n\nfunction MainPage() {\n    return (\n        <div>\n            <Main></Main>\n        </div>\n    )\n}\n\nexport default MainPage;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport AuthPage from './pages/AuthPage';\nimport MainPage from './pages/MainPage';\n\nconst App: React.FC = () => {\n  return (\n    <div>\n      <Switch>\n        <Route exact component={MainPage} path='/'></Route>\n        <Route exact component={AuthPage} path='/login'></Route>\n\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'semantic-ui-css/semantic.min.css'\nimport {HashRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n        <HashRouter>\n            <App />\n        </HashRouter>\n        , \n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}